<div class="titan-panel">
    <h3>ğŸ›¡ï¸ Titan Memory v7 (Native)</h3>
    <div class="titan-desc">
        Uses your main SillyTavern connection. No configuration needed.
    </div>
    <hr>

    <div class="titan-row">
        <span class="titan-label">Enable Extension</span>
        <input type="checkbox" id="titan-enabled" style="width: 20px; height: 20px;">
    </div>

    <!-- Thresholds -->
    <div class="titan-section-title">Triggers</div>
    <div class="titan-row">
        <span>Summarize every N messages:</span>
        <input type="number" id="titan-threshold" class="titan-input" style="max-width: 60px;" min="1" value="1">
    </div>
    <div class="titan-desc">Set to <b>1</b> to summarize after every reply.</div>

    <div class="titan-section-title">Context & Visuals</div>
    <div class="titan-row">
        <span>Show Memory in Chat</span>
        <input type="checkbox" id="titan-show-visuals" style="width: 18px; height: 18px;">
    </div>
    <div class="titan-row">
        <span>Active Pruning (Reduce Tokens)</span>
        <input type="checkbox" id="titan-pruning" style="width: 18px; height: 18px;">
    </div>
    <div class="titan-desc">Hides old messages from the AI once they are summarized.</div>

    <!-- Prompt Editor -->
    <div class="titan-section-title">Summary Prompt Template</div>
    <textarea id="titan-prompt-template" class="titan-textarea"></textarea>
    <button id="titan-reset-prompt" class="titan-btn" style="margin-top:5px; width:auto; font-size:0.8em;">Reset to Default</button>

    <!-- Manual Editor -->
    <div class="titan-section-title">Current Memory State</div>
    <textarea id="titan-memory-text" class="titan-textarea" style="min-height: 150px;"></textarea>
    
    <div class="titan-row" style="margin-top: 10px;">
        <button id="titan-save" class="titan-btn">ğŸ’¾ Save</button>
        <button id="titan-now" class="titan-btn">âš¡ Force Update</button>
        <button id="titan-wipe" class="titan-btn red">ğŸ—‘ï¸ Wipe</button>
    </div>

    <!-- Status -->
    <div id="titan-status" class="titan-status">Ready.</div>
</div>
