:root{
  --qm-default: grey;
  --qm-short: #2E8B57;
  --qm-long: #4682B4;
  --qm-old: #8B0000;
  --qm-excluded: #555;
  --qm-redundant-opacity: 0.5; /* use numeric 0..1 for opacity */
  --qm-message-removed: grey;
}

/* --- safer lagging-memory styling (compatible) --- */
.qvink_short_memory { color: var(--qm-short); }
.qvink_short_memory.qvink_lagging_memory {
  color: var(--qm-short);
  opacity: var(--qm-redundant-opacity);
  text-shadow: none;
}

.qvink_long_memory { color: var(--qm-long); }
.qvink_long_memory.qvink_lagging_memory {
  color: var(--qm-long);
  opacity: var(--qm-redundant-opacity);
  text-shadow: none;
}

.qvink_old_memory { color: var(--qm-old); }
.qvink_old_memory.qvink_lagging_memory {
  color: var(--qm-old);
  opacity: var(--qm-redundant-opacity);
  text-shadow: none;
}

/* fallback for excluded/removed states */
.qvink_exclude_memory { color: var(--qm-excluded); }
.mes_text.qvink_removed_message,
.mes_text.qvink_removed_message p,
.mes_text.qvink_removed_message q,
.mes_text.qvink_removed_message code,
.mes_text.qvink_removed_message em {
  color: var(--qm-message-removed);
}

/* Keep rest of your rules intact but avoid using exotic new syntax */
.qvink_interface_card {
  margin: 0 0.5em;
  padding: 0.2em 0.5em;
  border: 1px solid rgba(0,0,0,0.25);
  border-radius: 8px;
  box-shadow: 0 1px 6px rgba(0,0,0,0.12);
}

/* Make tables and dialogs behave reliably in modern ST theme */
dialog:has(#qvink_memory_state_interface) {
  height: 90vh;
  max-height: 90vh;
}

/* accessibility: increase hit areas for buttons */
.menu_button {
  padding: 6px 10px;
  border-radius: 6px;
}

/* keep the rest of your local rules (from original file) -- ensure no invalid CSS remains */
